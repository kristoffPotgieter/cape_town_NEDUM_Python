<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>API reference &mdash; NEDUM-2D for CoCT  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation help" href="install_help.html" />
    <link rel="prev" title="Bibliography" href="bibliography.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> NEDUM-2D for CoCT
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme_link.html">Introducing NEDUM-2D</a></li>
<li class="toctree-l1"><a class="reference internal" href="license_rst.html">License</a></li>
<li class="toctree-l1"><a class="reference internal" href="main_nb.html">Notebook: run model</a></li>
<li class="toctree-l1"><a class="reference internal" href="calib_nb.html">Notebook: run calibration</a></li>
<li class="toctree-l1"><a class="reference internal" href="guidelines.html">User guidelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_case.html">Use case</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical_doc.html">Technical documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="input_tables.html">Input tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_bases.html">Data bases</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_sets.html">Data sets</a></li>
<li class="toctree-l1"><a class="reference internal" href="math_appendix.html">Math appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="bibliography.html">Bibliography</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">API reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#inputs">Inputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-inputs.parameters_and_options">Set parameters and options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-inputs.data">Import data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#equilibrium">Equilibrium</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-equilibrium.compute_equilibrium">Compute equilibrium</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-equilibrium.run_simulations">Run simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-equilibrium.functions_dynamic">Dynamic functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-equilibrium.sub.compute_outputs">Compute intermediate outputs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-equilibrium.sub.functions_solver">Define optimality conditions for solver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#calibration">Calibration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-calibration.calib_main_func">Main functions for calibration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-calibration.sub.compute_income">Calibrate income net of commuting costs and gravity parameter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-calibration.sub.estimate_parameters_by_optimization">Estimate utility function parameters by optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-calibration.sub.estimate_parameters_by_scanning">Estimate utility function parameters by scanning</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-calibration.sub.import_amenities">Import exogenous amenities (for amenity index)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-calibration.sub.import_employment_data">Import employment data (for income and gravity)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-calibration.sub.loglikelihood">Log-likelihood (for utility function parameters)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#outputs">Outputs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#module-outputs.export_outputs">Process and display general values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-outputs.flood_outputs">Process values related to floods</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-outputs.export_outputs_floods">Display values related to floods</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install_help.html">Installation help</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NEDUM-2D for CoCT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>API reference</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/api_ref.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="api-reference">
<h1>API reference<a class="headerlink" href="#api-reference" title="Permalink to this heading"></a></h1>
<div class="section" id="inputs">
<h2>Inputs<a class="headerlink" href="#inputs" title="Permalink to this heading"></a></h2>
<div class="section" id="module-inputs.parameters_and_options">
<span id="set-parameters-and-options"></span><h3>Set parameters and options<a class="headerlink" href="#module-inputs.parameters_and_options" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="inputs.parameters_and_options.compute_agricultural_rent">
<span class="sig-prename descclassname"><span class="pre">inputs.parameters_and_options.</span></span><span class="sig-name descname"><span class="pre">compute_agricultural_rent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_fact</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/parameters_and_options.html#compute_agricultural_rent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.parameters_and_options.compute_agricultural_rent" title="Permalink to this definition"></a></dt>
<dd><p>Convert agricultural land price into theoretical annual housing rent.</p>
<p>The conversion leverages the zero profit condition for formal private
developers in equilibrium.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rent</strong> (<em>float</em>) – Parametric agricultural land price at baseline year (2011)</p></li>
<li><p><strong>scale_fact</strong> (<em>float</em>) – (Calibrated) scale factor for the construction function of
formal private developers</p></li>
<li><p><strong>interest_rate</strong> (<em>float</em>) – Real interest rate for the overall economy, corresponding to an average
over past years</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>agricultural_rent</strong> – Theoretical agricultural (annual) rent (corresponds to opportunity
cost of non-urbanized land)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float64</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.parameters_and_options.import_construction_parameters">
<span class="sig-prename descclassname"><span class="pre">inputs.parameters_and_options.</span></span><span class="sig-name descname"><span class="pre">import_construction_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_types_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dwelling_size_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mitchells_plain_grid_baseline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_formal_density_HFA</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_land</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/parameters_and_options.html#import_construction_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.parameters_and_options.import_construction_parameters" title="Permalink to this definition"></a></dt>
<dd><p>Update default parameters with construction parameters.</p>
<p>Import set of numerical construction-related parameters used in the model.
They depend on pre-loaded data and are therefore imported as part of a
separate function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>housing_types_sp</strong> (<em>DataFrame</em>) – Table yielding, for each Small Place (1,046), the number of
informal backyards, informal settlements, and total number
of dwelling units at baseline year (2011), as well as its
x and y (centroid) coordinates</p></li>
<li><p><strong>dwelling_size_sp</strong> (<em>Series</em>) – Average dwelling size (in m²) in each Small Place (1,046)
at baseline year (2011)</p></li>
<li><p><strong>mitchells_plain_grid_baseline</strong> (<em>ndarray</em><em>(</em><em>uint8</em><em>)</em>) – Dummy coding for belonging to Mitchells Plain neighbourhood
at the grid-cell (24,014) level</p></li>
<li><p><strong>grid_formal_density_HFA</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Population density (per m²) in formal private housing at baseline year
(2011) at the grid-cell (24,014) level</p></li>
<li><p><strong>coeff_land</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Table yielding, for each grid cell (24,014), the percentage of land
area available for construction in each housing type (4) respectively.
In the order: formal private housing, informal backyards, informal
settlements, formal subsidized housing.</p></li>
<li><p><strong>interest_rate</strong> (<em>float64</em>) – Real interest rate for the overall economy, corresponding to an average
over past years</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>param</strong> (<em>dict</em>) – Updated dictionary of default parameters</p></li>
<li><p><strong>minimum_housing_supply</strong> (<em>ndarray(float64)</em>) – Minimum housing supply (in m²) for each grid cell (24,014), allowing
for an ad hoc correction of low values in Mitchells Plain</p></li>
<li><p><strong>agricultural_rent</strong> (<em>int</em>) – Annual housing rent below which it is not profitable for formal private
developers to urbanize (agricultural) land: endogenously limits urban
sprawl</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.parameters_and_options.import_options">
<span class="sig-prename descclassname"><span class="pre">inputs.parameters_and_options.</span></span><span class="sig-name descname"><span class="pre">import_options</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/parameters_and_options.html#import_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.parameters_and_options.import_options" title="Permalink to this definition"></a></dt>
<dd><p>Import default options.</p>
<p>Import set of numerical values coding for options used in the model.
We can group them as follows: structural assumptions regarding agents’
behaviour, assumptions about different land uses, options about flood data
used, about re-processing input data, about calibration process, about
math correction relative to the original code, and about scenarios used
for time-moving exogenous variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>options</strong> – Dictionary of default options</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.parameters_and_options.import_param">
<span class="sig-prename descclassname"><span class="pre">inputs.parameters_and_options.</span></span><span class="sig-name descname"><span class="pre">import_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_precalc_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/parameters_and_options.html#import_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.parameters_and_options.import_param" title="Permalink to this definition"></a></dt>
<dd><p>Import default parameters.</p>
<p>Import set of numerical parameters used in the model.
Some parameters are the output of a calibration process: it is the case
of construction function parameters, incomes and associated gravity
parameter, utility function parameters, and disamenity index for informal
housing. Some other parameters are just defined ad hoc, based on existing
empirical evidence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_precalc_inp</strong> (<em>str</em>) – Path for precalcuted input data (calibrated parameters)</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>param</strong> – Dictionary of default parameters</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-inputs.data">
<span id="import-data"></span><h3>Import data<a class="headerlink" href="#module-inputs.data" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.compute_fraction_capital_destroyed">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">compute_fraction_capital_destroyed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_flood</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">damage_function</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#compute_fraction_capital_destroyed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.compute_fraction_capital_destroyed" title="Permalink to this definition"></a></dt>
<dd><p>Compute expected fraction of capital destroyed by floods.</p>
<p>To go from discrete to continuous estimates of flood damages, we linearly
integrate between available return periods (understood as an annual event
inverse probability). This function allows us to do so for a given flood
type, housing type, and damage function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>d</strong> (<em>dict</em>) – Dictionary of data frames yielding flood maps (maximum flood
depth + fraction of flood-prone area for each grid cell) for each
available return period, for a given flood type</p></li>
<li><p><strong>type_flood</strong> (<em>str</em>) – Code for flood type considered (FU for fluvial undefended, FD for
fluvial defended, P for pluvial, C for coastal)</p></li>
<li><p><strong>damage_function</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed over maximum
flood depth (in m) in a given area, for a given capital type</p></li>
<li><p><strong>housing_type</strong> (<em>str</em>) – Housing type considered (to apply some ad hoc corrections).
Should be set to “formal”, “subsidized”, “backyard”, or “informal”.</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Expected fraction of capital destroyed</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float64</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.convert_income_distribution">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">convert_income_distribution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_sp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#convert_income_distribution"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.convert_income_distribution" title="Permalink to this definition"></a></dt>
<dd><p>Convert SP data for income distribution into grid dimensions.</p>
<p>This is used for validation as Small-Area-Level estimates are not
available for population distribution across income groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>income_distribution</strong> (<em>ndarray</em><em>(</em><em>uint16</em><em>, </em><em>ndim=2</em><em>)</em>) – Exogenous number of households in each Small Place (1,046) for each
income group in the model (4)</p></li>
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>path_data</strong> (<em>str</em>) – Path towards data used in the model</p></li>
<li><p><strong>data_sp</strong> (<em>DataFrame</em>) – Table yielding, for each Small Place (1,046), the average dwelling size
(in m²), the average land price and annual income level (in rands),
the size of unconstrained area for construction (in m²), the total area
(in km²), the distance to the city centre (in km), whether or not the
location belongs to Mitchells Plain, and the SP code</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>income_grid</strong> – Exogenous number of households in each grid cell (24,014) for each
income group in the model (4)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(float64, ndim=2)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.gen_small_areas_to_grid">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">gen_small_areas_to_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_intersect</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">small_area_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">small_area_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#gen_small_areas_to_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.gen_small_areas_to_grid" title="Permalink to this definition"></a></dt>
<dd><p>Convert SAL/SP data to grid dimensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>grid_intersect</strong> (<em>DataFrame</em>) – Table yielding the intersection areas between grid cells (24,014)
and Small Areas (5,339) or Small Places (1,046)</p></li>
<li><p><strong>small_area_data</strong> (<em>Series</em>) – Number of dwellings (or other variable) in each chosen geographic unit
for a given housing type</p></li>
<li><p><strong>small_area_code</strong> (<em>Series</em>) – Numerical code associated with each chosen geographic unit</p></li>
<li><p><strong>unit</strong> (<em>str</em>) – Code defining with geographic unit should be used: must be set to
either “SP” or “SAL”</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>grid_data</strong> – Number of dwellings (or other variable) in each grid cell (24,014)
for a given housing type</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(float64)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_amenities">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_amenities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_precalc_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_amenities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_amenities" title="Permalink to this definition"></a></dt>
<dd><p>Import calibrated amenity index.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path_precalc_inp</strong> (<em>str</em>) – Path for precalcuted input data (calibrated parameters)</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>amenities</strong> – Normalized amenity index (relative to the mean) for each grid cell
(24,014)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(float64)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_coeff_land">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_coeff_land</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spline_land_constraints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_land_backyard</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_land_informal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_land_RDP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_coeff_land"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_coeff_land" title="Permalink to this definition"></a></dt>
<dd><p>Update land availability ratios for a given year.</p>
<p>This function updates the land availability regression splines to account
for non-constructible land (such as roads, open spaces, etc.). This is done
by reweighting the estimates with an ad hoc parameter ratio.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spline_land_constraints</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level overall land availability
(in %)</p></li>
<li><p><strong>spline_land_backyard</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level land availability (in %)
for informal backyards over the years</p></li>
<li><p><strong>spline_land_informal</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level land availability (in %)
for informal settlements over the years</p></li>
<li><p><strong>spline_land_RDP</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level land availability (in %)
for formal subsidized housing over the years</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>t</strong> (<em>int</em>) – Year (relative to baseline year set at 0) for which we want to
run the function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>coeff_land</strong> – Updated land availability for each grid cell (24,014) and each
housing type (4: formal private, informal backyards, informal
settlements, formal subsidized)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(float64, ndim=2)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_full_floods_data">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_full_floods_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_full_floods_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_full_floods_data" title="Permalink to this definition"></a></dt>
<dd><p>Compute expected fraction of capital destroyed by floods across space.</p>
<p>This function applies theoretical formulas to flood maps to get the
theoretical expected fraction of capital destroyed across space
(should households choose to live there). To do so, it leverages the
import_init_floods_data and compute_fraction_capital_destroyed functions.
Note that we consider the maximum flood depth across flood maps when they
overlap each other, as there might be some double counting between pluvial
and fluvial flood risks, and floods just spill over across space instead of
piling up (bath-tub model).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>path_folder</strong> (<em>str</em>) – Path towards the root data folder</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>fraction_capital_destroyed</strong> (<em>DataFrame</em>) – Data frame of expected fractions of capital destroyed, for housing
structures and contents in different housing types, in each
grid cell (24,014)</p></li>
<li><p><strong>structural_damages_small_houses</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (small house
structures) over maximum flood depth (in m) in a given area,
from de Villiers et al., 2007</p></li>
<li><p><strong>structural_damages_medium_houses</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (medium house
structures) over maximum flood depth (in m) in a given area,
from de Villiers et al., 2007</p></li>
<li><p><strong>structural_damages_large_houses</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (large house
structures) over maximum flood depth (in m) in a given area,
from de Villiers et al., 2007</p></li>
<li><p><strong>content_damages</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (house
contents) over maximum flood depth (in m) in a given area,
from de Villiers et al., 2007</p></li>
<li><p><strong>structural_damages_type1</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-1 house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (non-engineered buildings)</p></li>
<li><p><strong>structural_damages_type2</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-2 house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (wooden buildings)</p></li>
<li><p><strong>structural_damages_type3a</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-3a house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (one-floor unreinforced masonry/concrete
buildings)</p></li>
<li><p><strong>structural_damages_type3b</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-3b house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (two-floor unreinforced masonry/concrete
buildings)</p></li>
<li><p><strong>structural_damages_type4a</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-4a house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (one-floor reinforced masonry/concrete
and steel buildings)</p></li>
<li><p><strong>structural_damages_type4b</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-4b house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (two-floor reinforced masonry/concrete
and steel buildings)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_grid">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_grid" title="Permalink to this definition"></a></dt>
<dd><p>Import standard geographic grid from the City of Cape Town.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path_data</strong> (<em>str</em>) – Path towards data used in the model</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>grid</strong> – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_households_data">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_households_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_precalc_inp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_households_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_households_data" title="Permalink to this definition"></a></dt>
<dd><p>Import geographic data with class distributions for households.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path_precalc_inp</strong> (<em>str</em>) – Path for precalcuted input data (calibrated parameters)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>data_rdp</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), the associated cumulative
count of cells with some formal subsidized housing, and the associated
area (in m²) dedicated to such housing</p></li>
<li><p><strong>housing_types_sp</strong> (<em>DataFrame</em>) – Table yielding, for each Small Place (1,046), the number of informal
backyards, of informal settlements, and total dwelling units, as well
as their (centroid) x and y coordinates</p></li>
<li><p><strong>data_sp</strong> (<em>DataFrame</em>) – Table yielding, for each Small Place (1,046), the average dwelling size
(in m²), the average land price and annual income level (in rands),
the size of unconstrained area for construction (in m²), the total area
(in km²), the distance to the city centre (in km), whether or not the
location belongs to Mitchells Plain, and the SP code</p></li>
<li><p><strong>mitchells_plain_grid_baseline</strong> (<em>ndarray(uint8)</em>) – Dummy coding for belonging to Mitchells Plain neighbourhood
at the grid-cell (24,014) level</p></li>
<li><p><strong>grid_formal_density_HFA</strong> (<em>ndarray(float64)</em>) – Population density (per m²) in formal private housing at baseline year
(2011) at the grid-cell (24,014) level</p></li>
<li><p><strong>threshold_income_distribution</strong> (<em>ndarray(int32)</em>) – Annual income level (in rands) above which a household is taken as
being part of one of the 4 income groups in the model</p></li>
<li><p><strong>income_distribution</strong> (<em>ndarray(uint16, ndim=2)</em>) – Exogenous number of households in each Small Place (1,046) for each
income group in the model (4)</p></li>
<li><p><strong>cape_town_limits</strong> (<em>ndarray(uint8)</em>) – Dummy indicating whether or not a Small Place (1,046) belongs to the
metropolitan area of the City of Cape Town</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_housing_limit">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_housing_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_housing_limit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_housing_limit" title="Permalink to this definition"></a></dt>
<dd><p>Return maximum allowed housing supply in and out of historic city radius.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Maximum housing supply (in m² per km²) in each grid cell (24,014)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>housing_limit . Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_hypothesis_housing_type">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_hypothesis_housing_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_hypothesis_housing_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_hypothesis_housing_type" title="Permalink to this definition"></a></dt>
<dd><p>Define housing market accessibility hypotheses.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>income_class_by_housing_type</strong> – Set of dummies coding for housing market access (across 4 housing
submarkets) for each income group (4, from poorest to richest)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_income_classes_data">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_income_classes_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_income_classes_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_income_classes_data" title="Permalink to this definition"></a></dt>
<dd><p>Import population and average income per income class in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>path_data</strong> (<em>str</em>) – Path towards data used in the model</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>mean_income</strong> (<em>float64</em>) – Average median income across total population</p></li>
<li><p><strong>households_per_income_class</strong> (<em>ndarray(float64)</em>) – Exogenous total number of households per income group (excluding people
out of employment, for 4 groups)</p></li>
<li><p><strong>average_income</strong> (<em>ndarray(float64)</em>) – Average median income for each income group in the model (4)</p></li>
<li><p><strong>income_mult</strong> (<em>ndarray(float64)</em>) – Ratio of income-group-specific average income over global average
income</p></li>
<li><p><strong>income_baseline</strong> (<em>DataFrame</em>) – Table summarizing, for each income group in the data (12, including
people out of employment), the number of households living in each
endogenous housing type (3), their total number at baseline year (2011)
in retrospect (2001), as well as the distribution of their average
income (at baseline year)</p></li>
<li><p><strong>households_per_income_and_housing</strong> (<em>ndarray(float64, ndim=2)</em>) – Exogenous number of households per income group (4, from poorest to
richest) in each endogenous housing type (3: formal private,
informal backyards, informal settlements), from SP-level data</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_init_floods_data">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_init_floods_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_init_floods_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_init_floods_data" title="Permalink to this definition"></a></dt>
<dd><p>Import raw flood data and damage functions.</p>
<p>More specifically, damage functions (taken from the literature) associate
to a given maximum flood depth level a fraction of capital destroyed,
depending on the type of capital considered. We focus here on housing
structures (whose value is determined endogenously) and housing contents
that are prone to flood destruction (calibrated ad hoc). We will later
associate building material types to housing types considered in the model.
Also note that fluvial flood maps are available both in a defended
(supposedly accounting for existing protection infrastructure) and
undefended version.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>path_folder</strong> (<em>str</em>) – Path towards the root data folder</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>structural_damages_small_houses</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (small house
structures) over maximum flood depth (in m) in a given area,
from de Villiers et al., 2007</p></li>
<li><p><strong>structural_damages_medium_houses</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (medium house
structures) over maximum flood depth (in m) in a given area,
from de Villiers et al., 2007</p></li>
<li><p><strong>structural_damages_large_houses</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (large house
structures) over maximum flood depth (in m) in a given area,
from de Villiers et al., 2007</p></li>
<li><p><strong>content_damages</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (house
contents) over maximum flood depth (in m) in a given area,
from de Villiers et al., 2007</p></li>
<li><p><strong>structural_damages_type1</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-1 house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (non-engineered buildings)</p></li>
<li><p><strong>structural_damages_type2</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-2 house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (wooden buildings)</p></li>
<li><p><strong>structural_damages_type3a</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-3a house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (one-floor unreinforced masonry/concrete
buildings)</p></li>
<li><p><strong>structural_damages_type3b</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-3b house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (two-floor unreinforced masonry/concrete
buildings)</p></li>
<li><p><strong>structural_damages_type4a</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-4a house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (one-floor reinforced masonry/concrete
and steel buildings)</p></li>
<li><p><strong>structural_damages_type4b</strong> (<em>interp1d</em>) – Linear interpolation for fraction of capital destroyed (type-4b house
structures) over maximum flood depth (in m) in a given area,
from de Englhardt et al., 2019 (two-floor reinforced masonry/concrete
and steel buildings)</p></li>
<li><p><strong>d_fluvial</strong> (<em>dict</em>) – Dictionary of data frames yielding fluvial flood maps (maximum flood
depth + fraction of flood-prone area for each grid cell) for each
available return period</p></li>
<li><p><strong>d_pluvial</strong> (<em>dict</em>) – Dictionary of data frames yielding pluvial flood maps (maximum flood
depth + fraction of flood-prone area for each grid cell) for each
available return period</p></li>
<li><p><strong>d_coastal</strong> (<em>dict</em>) – Dictionary of data frames yielding coastal flood maps (maximum flood
depth + fraction of flood-prone area for each grid cell) for each
available return period</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_land_use">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_land_use</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_rdp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_type_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_land_use"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_land_use" title="Permalink to this definition"></a></dt>
<dd><p>Return linear regression spline estimates for housing building paths.</p>
<p>This function imports scenarios about land use availability for several
housing types, then processes them to obtain a percentage of land available
for construction in each housing type, for each grid cell over the years.
It first sets the evolution of total number formal subsidized housing
dwellings, then does the same at the grid-cell level, before defining
land availability over time for some housing types: first formal subsidized
housing, then informal backyards and informal settlements. It also defines
the evolution of unconstrained land, with and without an urban edge.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>data_rdp</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), the associated cumulative
count of cells with some formal subsidized housing, and the associated
area (in m²) dedicated to such housing</p></li>
<li><p><strong>housing_types</strong> (<em>DataFrame</em>) – Table yielding, for 4 different housing types (informal settlements,
formal backyards, informal backyards, and formal private housing),
the number of households in each grid cell (24,014), from SAL data.
Note that the notion of formal backyards correspond to backyards with
a concrete structure (as opposed to informal “shacks”), and not to
backyards located within the preccints of formal private homes. In any
case, we abstract from both of those definitions for the sake of
simplicity and as they account for a marginal share of overall
backyarding.</p></li>
<li><p><strong>housing_type_data</strong> (<em>ndarray</em><em>(</em><em>int64</em><em>)</em>) – Exogenous number of households per housing type (4: formal private,
informal backyards, informal settlements, formal subsidized), from
Small-Area-Level data</p></li>
<li><p><strong>path_data</strong> (<em>str</em>) – Path towards data used in the model</p></li>
<li><p><strong>path_folder</strong> (<em>str</em>) – Path towards the root data folder</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>spline_RDP</strong> (<em>interp1d</em>) – Linear interpolation for the total number of formal subsidized
dwellings over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_estimate_RDP</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level number of formal subsidized
dwellings over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_land_RDP</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level land availability (in %)
for formal subsidized housing over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_land_backyard</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level land availability (in %)
for informal backyards over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_land_informal</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level land availability (in %)
for informal settlements over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_land_constraints</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level overall land availability,
(in %) over the years (baseline year set at 0)</p></li>
<li><p><strong>number_properties_RDP</strong> (<em>ndarray(float64)</em>) – Number of formal subsidized dwellings per grid cell (24,014) at
baseline year (2011)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_macro_data">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_macro_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_scenarios</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_macro_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_macro_data" title="Permalink to this definition"></a></dt>
<dd><p>Import interest rate and population per housing type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>path_scenarios</strong> (<em>str</em>) – Path towards raw scenarios used for time-moving exogenous variables</p></li>
<li><p><strong>path_folder</strong> – Path towards the root data folder</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>interest_rate</strong> (<em>float64</em>) – Interest rate for the overall economy, corresponding to an average
over past years</p></li>
<li><p><strong>population</strong> (<em>int64</em>) – Total number of households in the city (from Small-Area-Level data)</p></li>
<li><p><strong>housing_type_data</strong> (<em>ndarray(int64)</em>) – Exogenous number of households per housing type (4: formal private,
informal backyards, informal settlements, formal subsidized), from
Small-Area-Level data</p></li>
<li><p><strong>total_RDP</strong> (<em>int</em>) – Number of households living in formal subsidized housing (from SAL
data)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_sal_data">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_sal_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_folder</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_type_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_sal_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_sal_data" title="Permalink to this definition"></a></dt>
<dd><p>Import SAL data for population density by housing type.</p>
<p>This is used for validation as Small-Area-Level estimates are more
precise than Small-Place level estimates. However, they only yield
the distribution across housing types, and not income groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>path_folder</strong> (<em>str</em>) – Path towards the root data folder</p></li>
<li><p><strong>path_data</strong> (<em>str</em>) – Path towards data used in the model</p></li>
<li><p><strong>housing_type_data</strong> (<em>ndarray</em><em>(</em><em>int64</em><em>)</em>) – Exogenous number of households per housing type (4: formal private,
informal backyards, informal settlements, formal subsidized), from
Small-Area-Level data</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>housing_types_grid_sal</strong> – Table yielding the number of dwellings for 4 housing types
(formal private, informal backyards, formal backyards, and
informal settlements) for each grid cell (24,014), from SAL
estimates</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="inputs.data.import_transport_data">
<span class="sig-prename descclassname"><span class="pre">inputs.data.</span></span><span class="sig-name descname"><span class="pre">import_transport_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yearTraffic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">households_per_income_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_inflation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_fuel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_population_income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_precalc_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_precalc_transp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/inputs/data.html#import_transport_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#inputs.data.import_transport_data" title="Permalink to this definition"></a></dt>
<dd><p>Run commuting choice model.</p>
<p>This function runs the theoretical commuting choice model to
recover key transport-related intermediate outputs. More specifically,
it imports transport costs (from data) and (calibrated) incomes (see
calibration.sub.compute_income), then computes the modal shares for each
commuting pair, the probability distribution of such commuting pairs, the
expected income net of commuting costs per residential location, and the
associated average incomes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>yearTraffic</strong> (<em>int</em>) – Year (relative to baseline year set at 0) for which we want to
run the function</p></li>
<li><p><strong>households_per_income_class</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Exogenous total number of households per income group (excluding people
out of employment, for 4 groups)</p></li>
<li><p><strong>average_income</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Average median income for each income group in the model (4)</p></li>
<li><p><strong>spline_inflation</strong> (<em>interp1d</em>) – Linear interpolation for inflation rate (in base 100 relative to
baseline year) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_fuel</strong> (<em>interp1d</em>) – Linear interpolation for fuel price (in rands per km)
over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_population_income_distribution</strong> (<em>interp1d</em>) – Linear interpolation for total population per income group in the data
(12) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_income_distribution</strong> (<em>interp1d</em>) – Linear interpolation for median annual income (in rands) per income
group in the data (12) over the years (baseline year set at 0)</p></li>
<li><p><strong>path_precalc_inp</strong> (<em>str</em>) – Path for precalcuted input data (calibrated parameters)</p></li>
<li><p><strong>path_precalc_transp</strong> (<em>str</em>) – Path for precalcuted transport inputs (intermediate outputs from
commuting choice model)</p></li>
<li><p><strong>dim</strong> (<em>str</em>) – Geographic level of analysis at which we want to run the commuting
choice model: should be set to “GRID” or “SP”</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>incomeNetOfCommuting</strong> (<em>ndarray(float64, ndim=2)</em>) – Expected annual income net of commuting costs (in rands, for
one household), for each geographic unit, by income group (4)</p></li>
<li><p><strong>modalShares</strong> (<em>ndarray(float64, ndim=4)</em>) – Share (from 0 to 1) of each transport mode for each income group
(4) and each commuting pair (185 selected job centers + chosen
geographic units for residential locations)</p></li>
<li><p><strong>ODflows</strong> (<em>ndarray(float64, ndim=3)</em>) – Probability to work in a given selected job center (185, out of
a wider pool of transport zones), for a given income group (4)
and a given residential location (depending on geographic unit
chosen)</p></li>
<li><p><strong>averageIncome</strong> (<em>ndarray(float64, ndim=2)</em>) – Average annual income for each geographic unit and each income group
(4), for one household</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="equilibrium">
<h2>Equilibrium<a class="headerlink" href="#equilibrium" title="Permalink to this heading"></a></h2>
<div class="section" id="module-equilibrium.compute_equilibrium">
<span id="compute-equilibrium"></span><h3>Compute equilibrium<a class="headerlink" href="#module-equilibrium.compute_equilibrium" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="equilibrium.compute_equilibrium.compute_equilibrium">
<span class="sig-prename descclassname"><span class="pre">equilibrium.compute_equilibrium.</span></span><span class="sig-name descname"><span class="pre">compute_equilibrium</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fraction_capital_destroyed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amenities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">population</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">households_per_income_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_RDP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_land</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_net_of_commuting_costs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agricultural_rent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_properties_RDP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_class_by_housing_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_housing_supply</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">construction_param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_baseline</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/equilibrium/compute_equilibrium.html#compute_equilibrium"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#equilibrium.compute_equilibrium.compute_equilibrium" title="Permalink to this definition"></a></dt>
<dd><p>Run the static equilibrium algorithm.</p>
<p>This function runs the algorithm described in the technical documentation.
It starts from arbitrary utility levels, and leverages optimality
conditions on supply and demand to recover key output variables
(detailed in equilibrium.sub.compute_outputs). Then, it updates utility
levels to minimize the error between simulated and target number of
households per income group. Note that the whole process abstracts from
formal subsidised housing (fully exogenous in the model), that is added
to final outputs at the end of the function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fraction_capital_destroyed</strong> (<em>DataFrame</em>) – Data frame of expected fractions of capital destroyed, for housing
structures and contents in different housing types, in each
grid cell (24,014)</p></li>
<li><p><strong>amenities</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Normalized amenity index (relative to the mean) for each grid cell
(24,014)</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>housing_limit</strong> (<em>Series</em>) – Maximum housing supply (in m² per km²) in each grid cell (24,014)</p></li>
<li><p><strong>population</strong> (<em>int64</em>) – Total number of households in the city (from Small-Area-Level data)</p></li>
<li><p><strong>households_per_income_class</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Exogenous total number of households per income group (excluding people
out of employment, for 4 groups)</p></li>
<li><p><strong>total_RDP</strong> (<em>int</em>) – Number of households living in formal subsidized housing (from SAL
data)</p></li>
<li><p><strong>coeff_land</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Updated land availability for each grid cell (24,014) and each
housing type (4: formal private, informal backyards, informal
settlements, formal subsidized)</p></li>
<li><p><strong>income_net_of_commuting_costs</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Expected annual income net of commuting costs (in rands, for
one household), for each geographic unit, by income group (4)</p></li>
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
<li><p><strong>agricultural_rent</strong> (<em>float64</em>) – Annual housing rent below which it is not profitable for formal private
developers to urbanize (agricultural) land: endogenously limits urban
sprawl</p></li>
<li><p><strong>interest_rate</strong> (<em>float64</em>) – Real interest rate for the overall economy, corresponding to an average
over past years</p></li>
<li><p><strong>number_properties_RDP</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Number of formal subsidized dwellings per grid cell (24,014) at
baseline year (2011)</p></li>
<li><p><strong>average_income</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Average median income for each income group in the model (4)</p></li>
<li><p><strong>mean_income</strong> (<em>float64</em>) – Average median income across total population</p></li>
<li><p><strong>income_class_by_housing_type</strong> (<em>DataFrame</em>) – Set of dummies coding for housing market access (across 4 housing
submarkets) for each income group (4, from poorest to richest)</p></li>
<li><p><strong>minimum_housing_supply</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Minimum housing supply (in m²) for each grid cell (24,014), allowing
for an ad hoc correction of low values in Mitchells Plain</p></li>
<li><p><strong>construction_param</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – (Calibrated) scale factor for the construction function of formal
private developers</p></li>
<li><p><strong>income_baseline</strong> (<em>DataFrame</em>) – Table summarizing, for each income group in the data (12, including
people out of employment), the number of households living in each
endogenous housing type (3), their total number at baseline year (2011)
in retrospect (2001), as well as the distribution of their average
income (at baseline year)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>initial_state_utility</strong> (<em>ndarray(float64)</em>) – Utility levels for each income group (4) at baseline year
(2011)</p></li>
<li><p><strong>initial_state_error</strong> (<em>ndarray(float64)</em>) – Ratio (in %) of simulated number of households per income group over
target population per income group at baseline year (2011)</p></li>
<li><p><strong>initial_state_simulated_jobs</strong> (<em>ndarray(float64, ndim=2)</em>) – Total number of households in each income group (4) in each
endogenous housing type (3: formal private, informal backyards,
informal settlements) at baseline year (2011)</p></li>
<li><p><strong>initial_state_households_housing_types</strong> (<em>ndarray(float64, ndim=2)</em>) – Number of households per grid cell in each housing type (4)
at baseline year (2011)</p></li>
<li><p><strong>initial_state_household_centers</strong> (<em>ndarray(float64, ndim=2)</em>) – Number of households per grid cell in each income group (4)
at baseline year (2011)</p></li>
<li><p><strong>initial_state_households</strong> (<em>ndarray(float64, ndim=3)</em>) – Number of households per grid cell in each income group (4) and
each housing type (4) at baseline year (2011)</p></li>
<li><p><strong>initial_state_dwelling_size</strong> (<em>ndarray(float64, ndim=2)</em>) – Average dwelling size (in m²) per grid cell in each housing
type (4) at baseline year (2011)</p></li>
<li><p><strong>initial_state_housing_supply</strong> (<em>ndarray(float64, ndim=2)</em>) – Housing supply per unit of available land (in m² per km²)
for each housing type (4) in each grid cell at baseline year (2011)</p></li>
<li><p><strong>initial_state_rent</strong> (<em>ndarray(float64, ndim=2)</em>) – Average annual rent (in rands) per grid cell for each housing type
(4) at baseline year (2011)</p></li>
<li><p><strong>initial_state_rent_matrix</strong> (<em>ndarray(float64, ndim=3)</em>) – Average annual willingness to pay (in rands) per grid cell
for each income group (4) and each endogenous housing type (3)
at baseline year (2011)</p></li>
<li><p><strong>initial_state_capital_land</strong> (<em>ndarray(float64, ndim=2)</em>) – Value (in rands) of the housing capital stock per unit of available
land (in km²) for each endogenous housing type (3) per grid cell
at baseline year (2011)</p></li>
<li><p><strong>initial_state_average_income</strong> (<em>ndarray(float64)</em>) – Not an output of the model per se : it is just the average median
income for each income group in the model (4), that may change
over time</p></li>
<li><p><strong>initial_state_limit_city</strong> (<em>list</em>) – Contains a ndarray(bool, ndim=3) of indicator dummies for having
strictly more than one household per housing type and income group
in each grid cell</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-equilibrium.run_simulations">
<span id="run-simulations"></span><h3>Run simulations<a class="headerlink" href="#module-equilibrium.run_simulations" title="Permalink to this heading"></a></h3>
<p>Created on Fri Nov  6 16:23:16 2020.</p>
<p>&#64;author: Charlotte Liotta</p>
<dl class="py function">
<dt class="sig sig-object py" id="equilibrium.run_simulations.run_simulation">
<span class="sig-prename descclassname"><span class="pre">equilibrium.run_simulations.</span></span><span class="sig-name descname"><span class="pre">run_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_utility</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_error</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_households</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_households_housing_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_housing_supply</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_household_centers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_average_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_rent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_dwelling_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction_capital_destroyed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amenities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_estimate_RDP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_land_constraints</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_land_backyard</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_land_RDP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_land_informal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_class_by_housing_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">precalculated_transport</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_RDP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_agricultural_price</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_population_income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_inflation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_population</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_minimum_housing_supply</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_fuel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_baseline</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/equilibrium/run_simulations.html#run_simulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#equilibrium.run_simulations.run_simulation" title="Permalink to this definition"></a></dt>
<dd><p>Run simulations over several years according to exogenous scenarios.</p>
<p>After accounting for the changes in time-moving exogenous variables each
period, the function returns key equilibrium values (computed with
equilibrium.compute_equilibrium) under a housing supply constraint
described in equilibrium.functions_dynamic and the technical
documentation. This allows to account for inertia in formal private
developers’ actions and return more realistic simulated outputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>t</strong> (<em>int</em>) – Year for which we want to run the function</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>initial_state_utility</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Utility levels for each income group (4) at baseline year
(2011)</p></li>
<li><p><strong>initial_state_error</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Ratio (in %) of simulated number of households per income group over
target population per income group at baseline year (2011)</p></li>
<li><p><strong>initial_state_households</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=3</em><em>)</em>) – Number of households per grid cell in each income group (4) and
each housing type (4) at baseline year (2011)</p></li>
<li><p><strong>initial_state_households_housing_types</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Number of households per grid cell in each housing type (4)
at baseline year (2011)</p></li>
<li><p><strong>initial_state_housing_supply</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Housing supply per unit of available land (in m² per km²)
for each housing type (4) in each grid cell at baseline year (2011)</p></li>
<li><p><strong>initial_state_household_centers</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Number of households per grid cell in each income group (4)
at baseline year (2011)</p></li>
<li><p><strong>initial_state_average_income</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Not an output of the model per se : it is just the average median
income for each income group in the model (4), that may change
over time</p></li>
<li><p><strong>initial_state_rent</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Average annual rent (in rands) per grid cell for each housing type
(4) at baseline year (2011)</p></li>
<li><p><strong>initial_state_dwelling_size</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Average dwelling size (in m²) per grid cell in each housing
type (4) at baseline year (2011)</p></li>
<li><p><strong>fraction_capital_destroyed</strong> (<em>DataFrame</em>) – Data frame of expected fractions of capital destroyed, for housing
structures and contents in different housing types, in each
grid cell (24,014)</p></li>
<li><p><strong>amenities</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Normalized amenity index (relative to the mean) for each grid cell
(24,014)</p></li>
<li><p><strong>housing_limit</strong> (<em>Series</em>) – Maximum housing supply (in m² per km²) in each grid cell (24,014)</p></li>
<li><p><strong>spline_estimate_RDP</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level number of formal subsidized
dwellings over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_land_constraints</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level overall land availability,
(in %) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_land_backyard</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level land availability (in %)
for informal backyards over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_land_RDP</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level land availability (in %)
for formal subsidized housing over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_land_informal</strong> (<em>interp1d</em>) – Linear interpolation for the grid-level land availability (in %)
for informal settlements over the years (baseline year set at 0)</p></li>
<li><p><strong>income_class_by_housing_type</strong> (<em>DataFrame</em>) – Set of dummies coding for housing market access (across 4 housing
submarkets) for each income group (4, from poorest to richest)</p></li>
<li><p><strong>precalculated_transport</strong> (<em>str</em>) – Path for precalcuted transport inputs (intermediate outputs from
commuting choice model)</p></li>
<li><p><strong>spline_RDP</strong> (<em>interp1d</em>) – Linear interpolation for the total number of formal subsidized
dwellings over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_agricultural_price</strong> (<em>interp1d</em>) – Linear interpolation for the agricultural land price (in rands)
over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_interest_rate</strong> (<em>interp1d</em>) – Linear interpolation for the interest rate (in %) over the years</p></li>
<li><p><strong>spline_population_income_distribution</strong> (<em>interp1d</em>) – Linear interpolation for total population per income group in the data
(12) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_inflation</strong> (<em>interp1d</em>) – Linear interpolation for inflation rate (in base 100 relative to
baseline year) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_income_distribution</strong> (<em>interp1d</em>) – Linear interpolation for median annual income (in rands) per income
group in the data (12) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_population</strong> (<em>interp1d</em>) – Linear interpolation for total population over the years
(baseline year set at 0)</p></li>
<li><p><strong>spline_income</strong> (<em>interp1d</em>) – Linear interpolation for overall average (annual) income over the years
(baseline year set at 0), used to avoid money illusion in future
simulations when computing the housing supply
(see equilibrium.run_simulations)</p></li>
<li><p><strong>spline_minimum_housing_supply</strong> (<em>interp1d</em>) – Linear interpolation for minimum housing supply (in m²) over the years
(baseline year set at 0)</p></li>
<li><p><strong>spline_fuel</strong> (<em>interp1d</em>) – Linear interpolation for fuel price (in rands per km)
over the years (baseline year set at 0)</p></li>
<li><p><strong>income_baseline</strong> (<em>DataFrame</em>) – Table summarizing, for each income group in the data (12, including
people out of employment), the number of households living in each
endogenous housing type (3), their total number at baseline year (2011)
in retrospect (2001), as well as the distribution of their average
income (at baseline year)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>simulation_households_center</strong> (<em>ndarray(float64, ndim=3)</em>) – Number of households per grid cell (24,014) in each income group (4)
over all simulation years (30)</p></li>
<li><p><strong>simulation_households_housing_type</strong> (<em>ndarray(float64, ndim=3)</em>) – Number of households per grid cell (24,014) in each housing type (4)
over all simulation years (30)</p></li>
<li><p><strong>simulation_dwelling_size</strong> (<em>ndarray(float64, ndim=3)</em>) – Average dwelling size (in m²) per grid cell (24,014) in each housing
type (4) over all simulation years (30)</p></li>
<li><p><strong>simulation_rent</strong> (<em>ndarray(float64, ndim=3)</em>) – Average annual rent (in rands) per grid cell (24,014) for each housing
type (4) over all simulation years (30)</p></li>
<li><p><strong>simulation_households</strong> (<em>ndarray(float64, ndim=4)</em>) – Number of households per grid cell (24,014) in each income group (4)
and each housing type (4) at baseline year (2011) over all simulation
years (30)</p></li>
<li><p><strong>simulation_error</strong> (<em>ndarray(float64, ndim=2)</em>) – Ratio (in %) of simulated number of households per income group over
target population per income group over all simulation years (30)</p></li>
<li><p><strong>simulation_housing_supply</strong> (<em>ndarray(float64, ndim=3)</em>) – Housing supply per unit of available land (in m² per km²)
for each housing type (4) in each grid cell (24,014) over all
simulation years (30)</p></li>
<li><p><strong>simulation_utility</strong> (<em>ndarray(float64, ndim=2)</em>) – Utility levels for each income group (4) over all simulation years (30)</p></li>
<li><p><strong>simulation_deriv_housing</strong> (<em>ndarray(float64, ndim=2)</em>) – Difference between simulated next and current period values for housing
supply per unit of available land (in m² per km²) per grid cell
(24,014), for all simulation years (30).</p></li>
<li><p><strong>simulation_T</strong> (<em>ndarray(float64)</em>) – Years (relative to baseline set at 0) used for the simulations</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-equilibrium.functions_dynamic">
<span id="dynamic-functions"></span><h3>Dynamic functions<a class="headerlink" href="#module-equilibrium.functions_dynamic" title="Permalink to this heading"></a></h3>
<p>Created on Tue Nov  3 14:16:26 2020.</p>
<p>&#64;author: Charlotte Liotta</p>
<dl class="py function">
<dt class="sig sig-object py" id="equilibrium.functions_dynamic.compute_average_income">
<span class="sig-prename descclassname"><span class="pre">equilibrium.functions_dynamic.</span></span><span class="sig-name descname"><span class="pre">compute_average_income</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spline_population_income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/equilibrium/functions_dynamic.html#compute_average_income"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#equilibrium.functions_dynamic.compute_average_income" title="Permalink to this definition"></a></dt>
<dd><p>Compute average income and population per income group for a given year.</p>
<p>This allows to update the relative distributions used to compute the
equilibrium in subsequent periods (see equilibrium.compute_equilibrium).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spline_population_income_distribution</strong> (<em>interp1d</em>) – Linear interpolation for total population per income group in the data
(12) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_income_distribution</strong> (<em>interp1d</em>) – Linear interpolation for median annual income (in rands) per income
group in the data (12) over the years (baseline year set at 0)</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>t</strong> (<em>int</em>) – Year for which we want to run the function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>avg_income_group</strong> (<em>ndarray(float64)</em>) – Average median income for each income group in the model (4)</p></li>
<li><p><strong>total_group</strong> (<em>ndarray(float64)</em>) – Exogenous total number of households per income group (excluding people
out of employment, for 4 groups)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="equilibrium.functions_dynamic.evolution_housing_supply">
<span class="sig-prename descclassname"><span class="pre">equilibrium.functions_dynamic.</span></span><span class="sig-name descname"><span class="pre">evolution_housing_supply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">housing_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_supply_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_supply_0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/equilibrium/functions_dynamic.html#evolution_housing_supply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#equilibrium.functions_dynamic.evolution_housing_supply" title="Permalink to this definition"></a></dt>
<dd><p>Yield dynamic housing supply with time inertia and capital depreciation.</p>
<p>We consider that formal private developers anticipate the unconstrained
equilibrium value of their housing supply in future periods. Only if it is
bigger than current values do we allow them to build more housing. In all
cases, housing capital depreciates. This function computes a new housing
supply including a time inertia parameter, that will be the (more
realistic) housing supply simulated for target year (all the other
equilibrium values will be updated correspondingly under this constraint).
Then, the function returns the difference between simulated future and
current values for housing supply.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>housing_limit</strong> (<em>Series</em>) – Maximum housing supply (in m² per km²) in each grid cell (24,014)</p></li>
<li><p><strong>param</strong> (<em>Dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>t1</strong> (<em>float64</em>) – Target year (relative to baseline set at 0) for evolution of housing
supply</p></li>
<li><p><strong>t0</strong> (<em>float64</em>) – Origin year (relative to baseline set at 0) for evolution of housing
supply</p></li>
<li><p><strong>housing_supply_1</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – (Unconstrained) equilibrium housing supply per unit of available land
(in m² per km²) for target year, per grid cell (24,014)</p></li>
<li><p><strong>housing_supply_0</strong> (<em>TYPE</em>) – Equilibrium housing supply per unit of available land
(in m² per km²) for origin year, per grid cell (24,014)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Difference between simulated future and current values for housing
supply per unit of available land (in m² per km²), per grid cell
(24,014).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="equilibrium.functions_dynamic.import_scenarios">
<span class="sig-prename descclassname"><span class="pre">equilibrium.functions_dynamic.</span></span><span class="sig-name descname"><span class="pre">import_scenarios</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">income_baseline</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_scenarios</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/equilibrium/functions_dynamic.html#import_scenarios"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#equilibrium.functions_dynamic.import_scenarios" title="Permalink to this definition"></a></dt>
<dd><p>Define linear interpolations for time-moving exogenous variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>income_baseline</strong> (<em>DataFrame</em>) – Table summarizing, for each income group in the data (12, including
people out of employment), the number of households living in each
endogenous housing type (3), their total number at baseline year (2011)
in retrospect (2001), as well as the distribution of their average
income (at baseline year)</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>path_scenarios</strong> (<em>str</em>) – Path towards raw scenarios used for time-moving exogenous variables</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>spline_agricultural_price</strong> (<em>interp1d</em>) – Linear interpolation for the agricultural land price (in rands)
over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_interest_rate</strong> (<em>interp1d</em>) – Linear interpolation for the interest rate (in %) over the years</p></li>
<li><p><strong>spline_population_income_distribution</strong> (<em>interp1d</em>) – Linear interpolation for total population per income group in the data
(12) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_inflation</strong> (<em>interp1d</em>) – Linear interpolation for inflation rate (in base 100 relative to
baseline year) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_income_distribution</strong> (<em>interp1d</em>) – Linear interpolation for median annual income (in rands) per income
group in the data (12) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_population</strong> (<em>interp1d</em>) – Linear interpolation for total population over the years
(baseline year set at 0)</p></li>
<li><p><strong>spline_income</strong> (<em>interp1d</em>) – Linear interpolation for overall average (annual) income over the years
(baseline year set at 0), used to avoid money illusion in future
simulations when computing the housing supply
(see equilibrium.run_simulations)</p></li>
<li><p><strong>spline_minimum_housing_supply</strong> (<em>interp1d</em>) – Linear interpolation for minimum housing supply (in m²) over the years
(baseline year set at 0)</p></li>
<li><p><strong>spline_fuel</strong> (<em>interp1d</em>) – Linear interpolation for fuel price (in rands per km)
over the years (baseline year set at 0)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="equilibrium.functions_dynamic.interpolate_interest_rate">
<span class="sig-prename descclassname"><span class="pre">equilibrium.functions_dynamic.</span></span><span class="sig-name descname"><span class="pre">interpolate_interest_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spline_interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/equilibrium/functions_dynamic.html#interpolate_interest_rate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#equilibrium.functions_dynamic.interpolate_interest_rate" title="Permalink to this definition"></a></dt>
<dd><p>Return real interest rate used in model, for a given year.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spline_interest_rate</strong> (<em>interp1d</em>) – Linear interpolation for the interest rate (in %) over the years</p></li>
<li><p><strong>t</strong> (<em>int</em>) – Year for which we want to run the function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Real interest rate used in the model, and defined as the average over
past (3) years to convey the structural (as opposed to conjonctural)
component of the interest rate</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float64</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-equilibrium.sub.compute_outputs">
<span id="compute-intermediate-outputs"></span><h3>Compute intermediate outputs<a class="headerlink" href="#module-equilibrium.sub.compute_outputs" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="equilibrium.sub.compute_outputs.compute_outputs">
<span class="sig-prename descclassname"><span class="pre">equilibrium.sub.compute_outputs.</span></span><span class="sig-name descname"><span class="pre">compute_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">housing_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">utility</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amenities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_net_of_commuting_costs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction_capital_destroyed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_class_by_housing_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agricultural_rent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_land</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_housing_supply</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">construction_param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_pockets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_backyards_pockets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/equilibrium/sub/compute_outputs.html#compute_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#equilibrium.sub.compute_outputs.compute_outputs" title="Permalink to this definition"></a></dt>
<dd><p>Compute equilibrium outputs from theoretical formulas.</p>
<p>From optimality conditions on supply and demand (see technical
documentation for math formulas), this function computes, for a given
housing type, the following outputs. First, the demanded dwelling size in
each place per income group. Then, the bid-rent function / willingness to
pay (per m² of housing) in each place per income group. By selecting the
highest bid, we recover the final simulated dwweling size and market rent.
From there, we also compute the housing supply per unit of available land,
and the total number of households in each location, per income group.
To do so, it leverages the equilibrium.sub.functions_solver module.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>housing_type</strong> (<em>str</em>) – Endogenous housing type considered in the function: should be set to
“formal”, “backyard”, or “informal”</p></li>
<li><p><strong>utility</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Utility levels for each income group (4) considered in a given
iteration</p></li>
<li><p><strong>amenities</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Normalized amenity index (relative to the mean) for each grid cell
(24,014)</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>income_net_of_commuting_costs</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Expected annual income net of commuting costs (in rands, for
one household), for each geographic unit, by income group (4)</p></li>
<li><p><strong>fraction_capital_destroyed</strong> (<em>DataFrame</em>) – Data frame of expected fractions of capital destroyed, for housing
structures and contents in different housing types, in each
grid cell (24,014)</p></li>
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>income_class_by_housing_type</strong> (<em>DataFrame</em>) – Set of dummies coding for housing market access (across 4 housing
submarkets) for each income group (4, from poorest to richest)</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
<li><p><strong>housing_limit</strong> (<em>Series</em>) – Maximum housing supply (in m² per km²) in each grid cell (24,014)</p></li>
<li><p><strong>agricultural_rent</strong> (<em>float64</em>) – Annual housing rent below which it is not profitable for formal private
developers to urbanize (agricultural) land: endogenously limits urban
sprawl</p></li>
<li><p><strong>interest_rate</strong> (<em>float64</em>) – Real interest rate for the overall economy, corresponding to an average
over past years</p></li>
<li><p><strong>coeff_land</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Updated land availability for each grid cell (24,014) and each
housing type (4: formal private, informal backyards, informal
settlements, formal subsidized)</p></li>
<li><p><strong>minimum_housing_supply</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Minimum housing supply (in m²) for each grid cell (24,014), allowing
for an ad hoc correction of low values in Mitchells Plain</p></li>
<li><p><strong>construction_param</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – (Calibrated) scale factor for the construction function of formal
private developers</p></li>
<li><p><strong>housing_in</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Theoretical minimum housing supply when formal private developers do
not adjust (not used in practice), per grid cell (24,014)</p></li>
<li><p><strong>param_pockets</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – (Calibrated) disamenity index for living in an informal settlement,
per grid cell (24,014)</p></li>
<li><p><strong>param_backyards_pockets</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – (Calibrated) disamenity index for living in an informal backyard,
per grid cell (24,014)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>job_simul</strong> (<em>ndarray(float64)</em>) – Simulated number of households per income group (4) for a given housing
type, at a given iteration</p></li>
<li><p><strong>R</strong> (<em>ndarray(float64)</em>) – Simulated average annual rent (in rands/m²) for a given housing type,
at a given iteration, for each selected pixel (4,043)</p></li>
<li><p><strong>people_init</strong> (<em>ndarray(float64)</em>) – Simulated number of households for a given housing type, at a given
iteration, for each selected pixel (4,043)</p></li>
<li><p><strong>people_center</strong> (<em>ndarray(float64, ndim=2)</em>) – Simulated number of households for a given housing type, at a given
iteration, for each selected pixel (4,043) and each income group (4)</p></li>
<li><p><strong>housing_supply</strong> (<em>ndarray(float64)</em>) – Simulated housing supply per unit of available land (in m² per km²)
for a given housing type, at a given iteration, for each selected pixel
(4,043)</p></li>
<li><p><strong>dwelling_size</strong> (<em>ndarray(float64)</em>) – Simulated average dwelling size (in m²) for a given housing type, at a
given iteration, for each selected pixel (4,043)</p></li>
<li><p><strong>R_mat</strong> (<em>ndarray(float64, ndim=2)</em>) – Simulated willingness to pay / bid-rents (in rands/m²) for a given
housing type, at a given iteration, for each selected pixel (4,043) and
each income group (4)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-equilibrium.sub.functions_solver">
<span id="define-optimality-conditions-for-solver"></span><h3>Define optimality conditions for solver<a class="headerlink" href="#module-equilibrium.sub.functions_solver" title="Permalink to this heading"></a></h3>
<p>Created on Fri Oct 30 14:13:50 2020.</p>
<p>&#64;author: Charlotte Liotta</p>
<dl class="py function">
<dt class="sig sig-object py" id="equilibrium.sub.functions_solver.compute_dwelling_size_formal">
<span class="sig-prename descclassname"><span class="pre">equilibrium.sub.functions_solver.</span></span><span class="sig-name descname"><span class="pre">compute_dwelling_size_formal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">utility</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">amenities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_net_of_commuting_costs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction_capital_destroyed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/equilibrium/sub/functions_solver.html#compute_dwelling_size_formal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#equilibrium.sub.functions_solver.compute_dwelling_size_formal" title="Permalink to this definition"></a></dt>
<dd><p>Return optimal dwelling size per income group for formal housing.</p>
<p>This function leverages the explicit_qfunc() function to express
dwelling size as an implicit function of observed values, coming from
optimality conditions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>utility</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Utility levels for each income group (4) considered in a given
iteration</p></li>
<li><p><strong>amenities</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Normalized amenity index (relative to the mean) for each grid cell
(24,014)</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>income_net_of_commuting_costs</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Expected annual income net of commuting costs (in rands, for
one household), for each geographic unit, by income group (4)</p></li>
<li><p><strong>fraction_capital_destroyed</strong> (<em>DataFrame</em>) – Data frame of expected fractions of capital destroyed, for housing
structures and contents in different housing types, in each
grid cell (24,014)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>dwelling_size</strong> – Simulated average dwelling size (in m²) for each selected pixel (4,043)
and each income group (4)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(float64, ndim=2)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="equilibrium.sub.functions_solver.compute_housing_supply_backyard">
<span class="sig-prename descclassname"><span class="pre">equilibrium.sub.functions_solver.</span></span><span class="sig-name descname"><span class="pre">compute_housing_supply_backyard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_net_of_commuting_costs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction_capital_destroyed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_class_by_housing_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/equilibrium/sub/functions_solver.html#compute_housing_supply_backyard"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#equilibrium.sub.functions_solver.compute_housing_supply_backyard" title="Permalink to this definition"></a></dt>
<dd><p>Return optimal housing supply for informal backyards.</p>
<p>This function leverages optimality conditions function to express
housing supply as a function of rents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Simulated average annual rent (in rands/m²) for a given housing type,
for each selected pixel (4,043)</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>income_net_of_commuting_costs</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Expected annual income net of commuting costs (in rands, for
one household), for each geographic unit, by income group (4)</p></li>
<li><p><strong>fraction_capital_destroyed</strong> (<em>DataFrame</em>) – Data frame of expected fractions of capital destroyed, for housing
structures and contents in different housing types, in each
grid cell (24,014)</p></li>
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>income_class_by_housing_type</strong> (<em>DataFrame</em>) – Set of dummies coding for housing market access (across 4 housing
submarkets) for each income group (4, from poorest to richest)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>housing_supply</strong> – Simulated housing supply per unit of available land (in m² per km²)
for informal backyards, for each selected pixel (4,043)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(float64)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="equilibrium.sub.functions_solver.compute_housing_supply_formal">
<span class="sig-prename descclassname"><span class="pre">equilibrium.sub.functions_solver.</span></span><span class="sig-name descname"><span class="pre">compute_housing_supply_formal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">R</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agricultural_rent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction_capital_destroyed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minimum_housing_supply</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">construction_param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_in</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dwelling_size</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/equilibrium/sub/functions_solver.html#compute_housing_supply_formal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#equilibrium.sub.functions_solver.compute_housing_supply_formal" title="Permalink to this definition"></a></dt>
<dd><p>Return optimal housing supply for formal private housing.</p>
<p>This function leverages optimality conditions function to express
housing supply as a function of rents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>R</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Simulated average annual rent (in rands/m²) for a given housing type,
for each selected pixel (4,043)</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
<li><p><strong>housing_limit</strong> (<em>Series</em>) – Maximum housing supply (in m² per km²) in each grid cell (24,014)</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>agricultural_rent</strong> (<em>float64</em>) – Annual housing rent below which it is not profitable for formal private
developers to urbanize (agricultural) land: endogenously limits urban
sprawl</p></li>
<li><p><strong>interest_rate</strong> (<em>float64</em>) – Real interest rate for the overall economy, corresponding to an average
over past years</p></li>
<li><p><strong>fraction_capital_destroyed</strong> (<em>DataFrame</em>) – Data frame of expected fractions of capital destroyed, for housing
structures and contents in different housing types, in each
grid cell (24,014)</p></li>
<li><p><strong>minimum_housing_supply</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Minimum housing supply (in m²) for each grid cell (24,014), allowing
for an ad hoc correction of low values in Mitchells Plain</p></li>
<li><p><strong>construction_param</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – (Calibrated) scale factor for the construction function of formal
private developers</p></li>
<li><p><strong>housing_in</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Theoretical minimum housing supply when formal private developers do
not adjust (not used in practice), per grid cell (24,014)</p></li>
<li><p><strong>dwelling_size</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Simulated average dwelling size (in m²) for a given housing type, for
each selected pixel (4,043)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>housing_supply</strong> – Simulated housing supply per unit of available land (in m² per km²)
for formal private housing, for each selected pixel (4,043)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(float64)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="equilibrium.sub.functions_solver.explicit_qfunc">
<span class="sig-prename descclassname"><span class="pre">equilibrium.sub.functions_solver.</span></span><span class="sig-name descname"><span class="pre">explicit_qfunc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">q_0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">alpha</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/equilibrium/sub/functions_solver.html#explicit_qfunc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#equilibrium.sub.functions_solver.explicit_qfunc" title="Permalink to this definition"></a></dt>
<dd><p>Explicit function that will be inverted to recover optimal dwelling size.</p>
<p>This function is used as part of compute_dwelling_size_formal().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>q</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Arbitrary values for dwelling size (in m²)</p></li>
<li><p><strong>q_0</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Parametric basic need in housing (in m²)</p></li>
<li><p><strong>alpha</strong> (<em>float64</em>) – (Calibrated) composite good elasticity in households’ utility function</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>result</strong> – Theoretical values associated with observed variable left_side (see
compute_dwelling_size_formal function) through optimality conditions,
for arbitrary values of dwelling size</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ndarray(float64)</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
<div class="section" id="calibration">
<h2>Calibration<a class="headerlink" href="#calibration" title="Permalink to this heading"></a></h2>
<div class="section" id="module-calibration.calib_main_func">
<span id="main-functions-for-calibration"></span><h3>Main functions for calibration<a class="headerlink" href="#module-calibration.calib_main_func" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="calibration.calib_main_func.estim_construct_func_param">
<span class="sig-prename descclassname"><span class="pre">calibration.calib_main_func.</span></span><span class="sig-name descname"><span class="pre">estim_construct_func_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold_income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_rdp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_types_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_number_formal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_income_group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_precalc_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/calib_main_func.html#estim_construct_func_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.calib_main_func.estim_construct_func_param" title="Permalink to this definition"></a></dt>
<dd><p>Estimate coefficients of housing production function (Cobb-Douglas).</p>
<p>This function leverages a partial relation from our general equilibrium
model, that is estimated on SP data which does not enter the simulations
as an input. More precisely, it combines the expression of the optimal
housing supply in the formal private sector with the highest bid condition
(see technical documentation for math formulas).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>data_sp</strong> (<em>DataFrame</em>) – Table yielding, for each Small Place (1,046), the average dwelling size
(in m²), the average land price and annual income level (in rands),
the size of unconstrained area for construction (in m²), the total area
(in km²), the distance to the city centre (in km), whether or not the
location belongs to Mitchells Plain, and the SP code</p></li>
<li><p><strong>threshold_income_distribution</strong> (<em>ndarray</em><em>(</em><em>int32</em><em>)</em>) – Annual income level (in rands) above which a household is taken as
being part of one of the 4 income groups in the model</p></li>
<li><p><strong>income_distribution</strong> (<em>ndarray</em><em>(</em><em>uint16</em><em>, </em><em>ndim=2</em><em>)</em>) – Exogenous number of households in each Small Place (1,046) for each
income group in the model (4)</p></li>
<li><p><strong>data_rdp</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), the associated cumulative
count of cells with some formal subsidized housing, and the associated
area (in m²) dedicated to such housing</p></li>
<li><p><strong>housing_types_sp</strong> (<em>DataFrame</em>) – Table yielding, for each Small Place (1,046), the number of informal
backyards, of informal settlements, and total dwelling units, as well
as their (centroid) x and y coordinates</p></li>
<li><p><strong>data_number_formal</strong> (<em>Series</em>) – Number of formal private housing units considered for each Small Place
(1,046)</p></li>
<li><p><strong>data_income_group</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Categorical variable indicating, for each Small Place (1,046), the
dominant income group (from 0 to 3)</p></li>
<li><p><strong>selected_density</strong> (<em>Series</em>) – Dummy variable allowing for sample selection across Small Places
(1,046) for regressions that are only valid in the formal private
housing sector</p></li>
<li><p><strong>path_data</strong> (<em>str</em>) – Path towards data used in the model</p></li>
<li><p><strong>path_precalc_inp</strong> (<em>str</em>) – Path for precalcuted input data (calibrated parameters)</p></li>
<li><p><strong>path_folder</strong> (<em>str</em>) – Path towards the root data folder</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>coeff_b</strong> (<em>float64</em>) – Calibrated capital elasticity in housing production function</p></li>
<li><p><strong>coeff_a</strong> (<em>float64</em>) – Calibrated land elasticity in housing production function</p></li>
<li><p><strong>coeffKappa</strong> (<em>float64</em>) – Calibrated scale factor in housing production function</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="calibration.calib_main_func.estim_incomes_and_gravity">
<span class="sig-prename descclassname"><span class="pre">calibration.calib_main_func.</span></span><span class="sig-name descname"><span class="pre">estim_incomes_and_gravity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_lambda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">households_per_income_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_inflation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_fuel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_population_income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_precalc_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_precalc_transp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/calib_main_func.html#estim_incomes_and_gravity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.calib_main_func.estim_incomes_and_gravity" title="Permalink to this definition"></a></dt>
<dd><p>Estimate incomes per job center and income group, with gravity parameter.</p>
<p>This function leverages theoretical formulas from
calibration.sub.compute_income and data imported through the
calibration.sub.import_employment_data module. It first import transport
costs and observed number of commuters per selected job centre and income
group, then estimates the associated incomes for a given gravity parameter
by minimizing the error over the simulated number of commuters. Then, it
selects among a list of scanned values the final value of the gravity
parameter (and the associated incomes) by minimizing the error over the
distribution of commuters along their residence-workplace distances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
<li><p><strong>grid</strong> (<em>DataFrame</em>) – Table yielding, for each grid cell (24,014), its x and y
(centroid) coordinates, and its distance (in km) to the city centre</p></li>
<li><p><strong>list_lambda</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – List of values over which to scan for the gravity parameter used in
the commuting choice model</p></li>
<li><p><strong>households_per_income_class</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Exogenous total number of households per income group (excluding people
out of employment, for 4 groups)</p></li>
<li><p><strong>average_income</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Average median income for each income group in the model (4)</p></li>
<li><p><strong>income_distribution</strong> (<em>ndarray</em><em>(</em><em>uint16</em><em>, </em><em>ndim=2</em><em>)</em>) – Exogenous number of households in each Small Place (1,046) for each
income group in the model (4)</p></li>
<li><p><strong>spline_inflation</strong> (<em>interp1d</em>) – Linear interpolation for inflation rate (in base 100 relative to
baseline year) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_fuel</strong> (<em>interp1d</em>) – Linear interpolation for fuel price (in rands per km)
over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_population_income_distribution</strong> (<em>interp1d</em>) – Linear interpolation for total population per income group in the data
(12) over the years (baseline year set at 0)</p></li>
<li><p><strong>spline_income_distribution</strong> (<em>interp1d</em>) – Linear interpolation for median annual income (in rands) per income
group in the data (12) over the years (baseline year set at 0)</p></li>
<li><p><strong>path_data</strong> (<em>str</em>) – Path towards data used in the model</p></li>
<li><p><strong>path_precalc_inp</strong> (<em>str</em>) – Path for precalcuted input data (calibrated parameters)</p></li>
<li><p><strong>path_precalc_transp</strong> (<em>str</em>) – Path for precalcuted transport inputs (intermediate outputs from
commuting choice model)</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>incomeCentersKeep</strong> (<em>ndarray(float64, ndim=2)</em>) – Calibrated average annual household income (including unemployment)
for each income group (4), per grid cell (24,014)</p></li>
<li><p><strong>lambdaKeep</strong> (<em>float64</em>) – Calibrated gravity parameter from the commuting choice model</p></li>
<li><p><strong>cal_avg_income</strong> (<em>ndarray(float64)</em>) – Overall calibrated average income across income groups (4), for
validation only</p></li>
<li><p><strong>scoreKeep</strong> (<em>ndarray(float64)</em>) – Mean ratio of simulated over observed number of commuters per job
center (185), collapsed at the income-group level (4): captures the
error over our calibrated parameters</p></li>
<li><p><strong>bhattacharyyaDistances</strong> (<em>ndarray(float64)</em>) – Bhattacharyya distances (measure the similarity of two probability
distributions) between the calculated distribution of commuting
distances and aggregates from the Transport Survey, for each scanned
value of the gravity parameter. This is used as an auxiliary measure
to pin down a unique gravity parameter (and associated matrix of
incomes), and is only given as an output of the function for reference.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="calibration.calib_main_func.estim_util_func_param">
<span class="sig-prename descclassname"><span class="pre">calibration.calib_main_func.</span></span><span class="sig-name descname"><span class="pre">estim_util_func_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_number_formal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_income_group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_types_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeffKappa</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incomeNetOfCommuting</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selected_density</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_precalc_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/calib_main_func.html#estim_util_func_param"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.calib_main_func.estim_util_func_param" title="Permalink to this definition"></a></dt>
<dd><p>Calibrate utility function parameters.</p>
<p>This function leverages the following modules: import_amenities,
estimate_parameters_by_scanning, and estimate_parameters_by_optimization.
As before, we use partial relations coming from our general equilibrium
structure (see technical documentation for math formulas). This time, we
look at the utility function parameters that maximize a composite
likelihood function for the fit on observed amenities, dwelling sizes, and
population sorting by income (see calibration.sub.loglikelihood module).
We proceed first by scanning over a discrete range of parameter values,
then by running a smooth solver taking outputs from scanning as initial
values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_number_formal</strong> (<em>Series</em>) – Number of formal private housing units considered for each Small Place
(1,046)</p></li>
<li><p><strong>data_income_group</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>)</em>) – Categorical variable indicating, for each Small Place (1,046), the
dominant income group (from 0 to 3)</p></li>
<li><p><strong>housing_types_sp</strong> (<em>DataFrame</em>) – Table yielding, for each Small Place (1,046), the number of informal
backyards, of informal settlements, and total dwelling units, as well
as their (centroid) x and y coordinates</p></li>
<li><p><strong>data_sp</strong> (<em>DataFrame</em>) – Table yielding, for each Small Place (1,046), the average dwelling size
(in m²), the average land price and annual income level (in rands),
the size of unconstrained area for construction (in m²), the total area
(in km²), the distance to the city centre (in km), whether or not the
location belongs to Mitchells Plain, and the SP code</p></li>
<li><p><strong>coeff_a</strong> (<em>float64</em>) – Calibrated land elasticity in housing production function</p></li>
<li><p><strong>coeff_b</strong> (<em>float64</em>) – Calibrated capital elasticity in housing production function</p></li>
<li><p><strong>coeffKappa</strong> (<em>float64</em>) – Calibrated scale factor in housing production function</p></li>
<li><p><strong>interest_rate</strong> (<em>float64</em>) – Interest rate for the overall economy, corresponding to an average
over past years</p></li>
<li><p><strong>incomeNetOfCommuting</strong> (<em>ndarray</em><em>(</em><em>float64</em><em>, </em><em>ndim=2</em><em>)</em>) – Expected annual income net of commuting costs (in rands, for
one household), for each geographic unit, by income group (4)</p></li>
<li><p><strong>selected_density</strong> (<em>Series</em>) – Dummy variable allowing for sample selection across Small Places
(1,046) for regressions that are only valid in the formal private
housing sector</p></li>
<li><p><strong>path_data</strong> (<em>str</em>) – Path towards data used in the model</p></li>
<li><p><strong>path_precalc_inp</strong> (<em>str</em>) – Path for precalcuted input data (calibrated parameters)</p></li>
<li><p><strong>options</strong> (<em>dict</em>) – Dictionary of default options</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – Dictionary of default parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>calibratedUtility_beta</strong> (<em>float64</em>) – Calibrated surplus housing elasticity in households’ utility function</p></li>
<li><p><strong>calibratedUtility_q0</strong> (<em>float64</em>) – Parametric basic need in housing (in m²). Note that this parameter is
not an output of the calibration per se, as it is exogenously set. It
is included here for reference as it enters the households’ utility
function and enters the optimization programme as an input. Note that
this could be optimized over (as in Pfeiffer et al.), but only within
a narrow range of values to preserve feasibilty of allocations.</p></li>
<li><p><strong>cal_amenities</strong> (<em>ndarray(float64)</em>) – Calibrated amenity index for each grid cell (24,014): this is not
normalized yet.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-calibration.sub.compute_income">
<span id="calibrate-income-net-of-commuting-costs-and-gravity-parameter"></span><h3>Calibrate income net of commuting costs and gravity parameter<a class="headerlink" href="#module-calibration.sub.compute_income" title="Permalink to this heading"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="calibration.sub.compute_income.EstimateIncome">
<span class="sig-prename descclassname"><span class="pre">calibration.sub.compute_income.</span></span><span class="sig-name descname"><span class="pre">EstimateIncome</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeOutput</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distanceOutput</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monetaryCost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costTime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_centers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_lambda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/sub/compute_income.html#EstimateIncome"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.sub.compute_income.EstimateIncome" title="Permalink to this definition"></a></dt>
<dd><p>Solve for income per employment center for some values of lambda.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="calibration.sub.compute_income.compute_ODflows">
<span class="sig-prename descclassname"><span class="pre">calibration.sub.compute_income.</span></span><span class="sig-name descname"><span class="pre">compute_ODflows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">householdSize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monetaryCost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costTime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incomeCentersFull</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whichCenters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_lambda</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/sub/compute_income.html#compute_ODflows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.sub.compute_income.compute_ODflows" title="Permalink to this definition"></a></dt>
<dd><p>Apply commuting formulas from working paper.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="calibration.sub.compute_income.funSolve">
<span class="sig-prename descclassname"><span class="pre">calibration.sub.compute_income.</span></span><span class="sig-name descname"><span class="pre">funSolve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">incomeCentersTemp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">averageIncomeGroup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">popCenters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">popResidence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">monetaryCost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">costTime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param_lambda</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">householdSize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">whichCenters</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bracketsDistance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distanceOutput</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/sub/compute_income.html#funSolve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.sub.compute_income.funSolve" title="Permalink to this definition"></a></dt>
<dd><p>Compute error in employment allocation.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="calibration.sub.compute_income.import_transport_costs">
<span class="sig-prename descclassname"><span class="pre">calibration.sub.compute_income.</span></span><span class="sig-name descname"><span class="pre">import_transport_costs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yearTraffic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">households_per_income_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_inflation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_fuel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_population_income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_income_distribution</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_precalc_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_precalc_transp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/sub/compute_income.html#import_transport_costs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.sub.compute_income.import_transport_costs" title="Permalink to this definition"></a></dt>
<dd><p>Compute job center distribution, commuting and net income.</p>
</dd></dl>

</div>
<div class="section" id="module-calibration.sub.estimate_parameters_by_optimization">
<span id="estimate-utility-function-parameters-by-optimization"></span><h3>Estimate utility function parameters by optimization<a class="headerlink" href="#module-calibration.sub.estimate_parameters_by_optimization" title="Permalink to this heading"></a></h3>
<p>Created on Tue Oct 20 10:49:58 2020.</p>
<p>&#64;author: Charlotte Liotta</p>
<dl class="py function">
<dt class="sig sig-object py" id="calibration.sub.estimate_parameters_by_optimization.EstimateParametersByOptimization">
<span class="sig-prename descclassname"><span class="pre">calibration.sub.estimate_parameters_by_optimization.</span></span><span class="sig-name descname"><span class="pre">EstimateParametersByOptimization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">incomeNetOfCommuting</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataRent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataDwellingSize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataIncomeGroup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataHouseholdDensity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selectedDensity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selectedSP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tableAmenities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variablesRegression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initRho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initBeta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initBasicQ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initUti2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initUti3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initUti4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/sub/estimate_parameters_by_optimization.html#EstimateParametersByOptimization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.sub.estimate_parameters_by_optimization.EstimateParametersByOptimization" title="Permalink to this definition"></a></dt>
<dd><p>Automatically estimate parameters by maximizing log likelihood.</p>
</dd></dl>

</div>
<div class="section" id="module-calibration.sub.estimate_parameters_by_scanning">
<span id="estimate-utility-function-parameters-by-scanning"></span><h3>Estimate utility function parameters by scanning<a class="headerlink" href="#module-calibration.sub.estimate_parameters_by_scanning" title="Permalink to this heading"></a></h3>
<p>Created on Tue Oct 20 10:50:37 2020.</p>
<p>&#64;author: Charlotte Liotta</p>
<dl class="py function">
<dt class="sig sig-object py" id="calibration.sub.estimate_parameters_by_scanning.EstimateParametersByScanning">
<span class="sig-prename descclassname"><span class="pre">calibration.sub.estimate_parameters_by_scanning.</span></span><span class="sig-name descname"><span class="pre">EstimateParametersByScanning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">incomeNetOfCommuting</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataRent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataDwellingSize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataIncomeGroup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataHouseholdDensity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selectedDensity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yData</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selectedSP</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tableAmenities</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variablesRegression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initRho</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listBeta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listBasicQ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initUti2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listUti3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">listUti4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/sub/estimate_parameters_by_scanning.html#EstimateParametersByScanning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.sub.estimate_parameters_by_scanning.EstimateParametersByScanning" title="Permalink to this definition"></a></dt>
<dd><p>Estimate parameters by maximizing log likelihood.</p>
</dd></dl>

</div>
<div class="section" id="module-calibration.sub.import_amenities">
<span id="import-exogenous-amenities-for-amenity-index"></span><h3>Import exogenous amenities (for amenity index)<a class="headerlink" href="#module-calibration.sub.import_amenities" title="Permalink to this heading"></a></h3>
<p>Created on Wed Apr  6 16:55:17 2022.</p>
<p>&#64;author: monni</p>
<dl class="py function">
<dt class="sig sig-object py" id="calibration.sub.import_amenities.import_amenities">
<span class="sig-prename descclassname"><span class="pre">calibration.sub.import_amenities.</span></span><span class="sig-name descname"><span class="pre">import_amenities</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_precalc_inp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dim</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/sub/import_amenities.html#import_amenities"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.sub.import_amenities.import_amenities" title="Permalink to this definition"></a></dt>
<dd><p>Import relevant amenity data at SP level.</p>
</dd></dl>

</div>
<div class="section" id="module-calibration.sub.import_employment_data">
<span id="import-employment-data-for-income-and-gravity"></span><h3>Import employment data (for income and gravity)<a class="headerlink" href="#module-calibration.sub.import_employment_data" title="Permalink to this heading"></a></h3>
<p>Created on Mon Oct 19 12:22:55 2020.</p>
<p>&#64;author: Charlotte Liotta</p>
<dl class="py function">
<dt class="sig sig-object py" id="calibration.sub.import_employment_data.import_employment_data">
<span class="sig-prename descclassname"><span class="pre">calibration.sub.import_employment_data.</span></span><span class="sig-name descname"><span class="pre">import_employment_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">households_per_income_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/sub/import_employment_data.html#import_employment_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.sub.import_employment_data.import_employment_data" title="Permalink to this definition"></a></dt>
<dd><p>Import number of jobs per selected employment center.</p>
</dd></dl>

</div>
<div class="section" id="module-calibration.sub.loglikelihood">
<span id="log-likelihood-for-utility-function-parameters"></span><h3>Log-likelihood (for utility function parameters)<a class="headerlink" href="#module-calibration.sub.loglikelihood" title="Permalink to this heading"></a></h3>
<p>Created on Tue Oct 20 11:46:13 2020.</p>
<p>&#64;author: Charlotte Liotta</p>
<dl class="py function">
<dt class="sig sig-object py" id="calibration.sub.loglikelihood.InterpolateRents">
<span class="sig-prename descclassname"><span class="pre">calibration.sub.loglikelihood.</span></span><span class="sig-name descname"><span class="pre">InterpolateRents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">beta</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basicQ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">net_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/sub/loglikelihood.html#InterpolateRents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.sub.loglikelihood.InterpolateRents" title="Permalink to this definition"></a></dt>
<dd><p>Interpolate log(rents) as a function of log(beta) and log(q0).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="calibration.sub.loglikelihood.LogLikelihoodModel">
<span class="sig-prename descclassname"><span class="pre">calibration.sub.loglikelihood.</span></span><span class="sig-name descname"><span class="pre">LogLikelihoodModel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Uo2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">net_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupLivingSpMatrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataDwellingSize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selectedDwellingSize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dataRent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selectedRents</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">selectedDensity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictorsAmenitiesMatrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tableRegression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables_regression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">CalculateDwellingSize</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ComputeLogLikelihood</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optionRegression</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/sub/loglikelihood.html#LogLikelihoodModel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.sub.loglikelihood.LogLikelihoodModel" title="Permalink to this definition"></a></dt>
<dd><p>Estimate the total likelihood of the model given the parameters.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="calibration.sub.loglikelihood.utilityFromRents">
<span class="sig-prename descclassname"><span class="pre">calibration.sub.loglikelihood.</span></span><span class="sig-name descname"><span class="pre">utilityFromRents</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">Ro</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basic_q</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/calibration/sub/loglikelihood.html#utilityFromRents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#calibration.sub.loglikelihood.utilityFromRents" title="Permalink to this definition"></a></dt>
<dd><p>Return utility / amenity index ratio.</p>
</dd></dl>

</div>
</div>
<div class="section" id="outputs">
<h2>Outputs<a class="headerlink" href="#outputs" title="Permalink to this heading"></a></h2>
<div class="section" id="module-outputs.export_outputs">
<span id="process-and-display-general-values"></span><h3>Process and display general values<a class="headerlink" href="#module-outputs.export_outputs" title="Permalink to this heading"></a></h3>
<p>Created on Mon Nov  2 11:32:48 2020.</p>
<p>&#64;author: Charlotte Liotta</p>
<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.export_households">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">export_households</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_state_households</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">households_per_income_and_housing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#export_households"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.export_households" title="Permalink to this definition"></a></dt>
<dd><p>Bar plot for equilibrium output across housing and income groups.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.export_housing_types">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">export_housing_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">housing_type_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_type_2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#export_housing_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.export_housing_types" title="Permalink to this definition"></a></dt>
<dd><p>Bar plot for equilibrium output across housing types.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.export_map">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">export_map</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ubnd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lbnd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Reds'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#export_map"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.export_map" title="Permalink to this definition"></a></dt>
<dd><p>Generate 2D heat maps of any spatial input.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.from_df_to_gdf">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">from_df_to_gdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">geo_grid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#from_df_to_gdf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.from_df_to_gdf" title="Permalink to this definition"></a></dt>
<dd><p>Convert map array/series inputs into grid-level GeoDataFrames.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.import_employment_geodata">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">import_employment_geodata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">households_per_income_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#import_employment_geodata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.import_employment_geodata" title="Permalink to this definition"></a></dt>
<dd><p>Import number of jobs per selected employment center.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.plot_average_income">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">plot_average_income</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#plot_average_income"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.plot_average_income" title="Permalink to this definition"></a></dt>
<dd><p>Plot average income across 1D-space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.plot_housing_demand">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">plot_housing_demand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_dwelling_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_households_housing_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_types_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#plot_housing_demand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.plot_housing_demand" title="Permalink to this definition"></a></dt>
<dd><p>Plot average dwelling size in private formal across space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.plot_housing_supply">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">plot_housing_supply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_housing_supply</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#plot_housing_supply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.plot_housing_supply" title="Permalink to this definition"></a></dt>
<dd><p>Line plot of avg housing supply per type and unit of available land.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.plot_housing_supply_noland">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">plot_housing_supply_noland</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_supply</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#plot_housing_supply_noland"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.plot_housing_supply_noland" title="Permalink to this definition"></a></dt>
<dd><p>Line plot of total housing supply per type across 1D-space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.plot_income_net_of_commuting_costs">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">plot_income_net_of_commuting_costs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_net_of_commuting_costs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#plot_income_net_of_commuting_costs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.plot_income_net_of_commuting_costs" title="Permalink to this definition"></a></dt>
<dd><p>Plot avg income net of commuting costs across 1D-space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.retrieve_name">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">retrieve_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">depth</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#retrieve_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.retrieve_name" title="Permalink to this definition"></a></dt>
<dd><p>Retrieve name of a variable.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.simul_housing_demand">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">simul_housing_demand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_dwelling_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_households_housing_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#simul_housing_demand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.simul_housing_demand" title="Permalink to this definition"></a></dt>
<dd><p>Plot average dwelling size in private formal across space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.simulation_density_housing_types">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">simulation_density_housing_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_households_housing_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#simulation_density_housing_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.simulation_density_housing_types" title="Permalink to this definition"></a></dt>
<dd><p>Line plot for number of households per housing type across 1D-space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.simulation_density_income_groups">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">simulation_density_income_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_household_centers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#simulation_density_income_groups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.simulation_density_income_groups" title="Permalink to this definition"></a></dt>
<dd><p>Line plot for number of households per income group across 1D-space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.simulation_housing_price">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">simulation_housing_price</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_rent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_types_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">land_price</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#simulation_housing_price"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.simulation_housing_price" title="Permalink to this definition"></a></dt>
<dd><p>Plot land price per housing type across space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.validate_average_income">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">validate_average_income</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overall_avg_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_avg_income</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#validate_average_income"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.validate_average_income" title="Permalink to this definition"></a></dt>
<dd><p>Validate overall average income across 1D-space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.validation_density">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">validation_density</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_households_housing_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#validation_density"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.validation_density" title="Permalink to this definition"></a></dt>
<dd><p>Line plot for household density across space in 1D.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.validation_density_housing_and_income_groups">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">validation_density_housing_and_income_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_households</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#validation_density_housing_and_income_groups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.validation_density_housing_and_income_groups" title="Permalink to this definition"></a></dt>
<dd><p>Plot number of HHs per housing and income group across 1D-space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.validation_density_housing_types">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">validation_density_housing_types</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_households_housing_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#validation_density_housing_types"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.validation_density_housing_types" title="Permalink to this definition"></a></dt>
<dd><p>Line plot for number of households per housing type across 1D-space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.validation_density_income_groups">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">validation_density_income_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_household_centers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_distribution_grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#validation_density_income_groups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.validation_density_income_groups" title="Permalink to this definition"></a></dt>
<dd><p>Line plot for number of households per income group across 1D-space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.validation_housing_price">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">validation_housing_price</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_rent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_types_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">land_price</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#validation_housing_price"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.validation_housing_price" title="Permalink to this definition"></a></dt>
<dd><p>Plot land price per housing type across space.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs.validation_housing_price_test">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs.</span></span><span class="sig-name descname"><span class="pre">validation_housing_price_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">grid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_rent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_households_housing_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_types_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_sp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">land_price</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs.html#validation_housing_price_test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs.validation_housing_price_test" title="Permalink to this definition"></a></dt>
<dd><p>Plot land price per housing type across space.</p>
</dd></dl>

</div>
<div class="section" id="module-outputs.flood_outputs">
<span id="process-values-related-to-floods"></span><h3>Process values related to floods<a class="headerlink" href="#module-outputs.flood_outputs" title="Permalink to this heading"></a></h3>
<p>Created on Fri Nov  6 17:00:06 2020.</p>
<p>&#64;author: Charlotte Liotta</p>
<dl class="py function">
<dt class="sig sig-object py" id="outputs.flood_outputs.annualize_damages">
<span class="sig-prename descclassname"><span class="pre">outputs.flood_outputs.</span></span><span class="sig-name descname"><span class="pre">annualize_damages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">array_init</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_flood</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">housing_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/flood_outputs.html#annualize_damages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.flood_outputs.annualize_damages" title="Permalink to this definition"></a></dt>
<dd><p>Annualize damages from floods.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.flood_outputs.compute_content_cost">
<span class="sig-prename descclassname"><span class="pre">outputs.flood_outputs.</span></span><span class="sig-name descname"><span class="pre">compute_content_cost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_state_household_centers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_housing_supply</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">income_net_of_commuting_costs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fraction_capital_destroyed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_rent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_dwelling_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/flood_outputs.html#compute_content_cost"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.flood_outputs.compute_content_cost" title="Permalink to this definition"></a></dt>
<dd><p>Compute value of damaged composite good.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.flood_outputs.compute_damages">
<span class="sig-prename descclassname"><span class="pre">outputs.flood_outputs.</span></span><span class="sig-name descname"><span class="pre">compute_damages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floods</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_formal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_subsidized</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_informal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_backyard</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dwelling_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formal_structure_cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_damages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structural_damages_type4b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structural_damages_type4a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structural_damages_type2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structural_damages_type3a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_inflation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_temp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flood_categ</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/flood_outputs.html#compute_damages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.flood_outputs.compute_damages" title="Permalink to this definition"></a></dt>
<dd><p>Summarize flood damages per housing and flood type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.flood_outputs.compute_damages_2d">
<span class="sig-prename descclassname"><span class="pre">outputs.flood_outputs.</span></span><span class="sig-name descname"><span class="pre">compute_damages_2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floods</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_formal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_subsidized</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_informal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_backyard</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dwelling_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formal_structure_cost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_damages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structural_damages_type4b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structural_damages_type4a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structural_damages_type2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">structural_damages_type3a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spline_inflation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">year_temp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flood_categ</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/flood_outputs.html#compute_damages_2d"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.flood_outputs.compute_damages_2d" title="Permalink to this definition"></a></dt>
<dd><p>Compute full flood damages per housing and flood type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.flood_outputs.compute_formal_structure_cost_method2">
<span class="sig-prename descclassname"><span class="pre">outputs.flood_outputs.</span></span><span class="sig-name descname"><span class="pre">compute_formal_structure_cost_method2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">initial_state_rent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interest_rate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coeff_land</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_state_households_housing_types</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">construction_coeff</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/flood_outputs.html#compute_formal_structure_cost_method2"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.flood_outputs.compute_formal_structure_cost_method2" title="Permalink to this definition"></a></dt>
<dd><p>Compute value of damaged formal structure capital.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.flood_outputs.compute_stats_per_housing_type">
<span class="sig-prename descclassname"><span class="pre">outputs.flood_outputs.</span></span><span class="sig-name descname"><span class="pre">compute_stats_per_housing_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floods</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_floods</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_formal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_subsidized</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_informal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_backyard</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flood_categ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/flood_outputs.html#compute_stats_per_housing_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.flood_outputs.compute_stats_per_housing_type" title="Permalink to this definition"></a></dt>
<dd><p>Summarize flood-risk area and flood depth per housing and flood type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.flood_outputs.compute_stats_per_income_group">
<span class="sig-prename descclassname"><span class="pre">outputs.flood_outputs.</span></span><span class="sig-name descname"><span class="pre">compute_stats_per_income_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">floods</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_floods</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_rich</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_midrich</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_midpoor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nb_households_poor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flood_categ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/flood_outputs.html#compute_stats_per_income_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.flood_outputs.compute_stats_per_income_group" title="Permalink to this definition"></a></dt>
<dd><p>Summarize flood-risk area and flood depth per income and flood type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.flood_outputs.create_flood_dict">
<span class="sig-prename descclassname"><span class="pre">outputs.flood_outputs.</span></span><span class="sig-name descname"><span class="pre">create_flood_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flood_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_floods</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim_nb_households_poor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim_nb_households_midpoor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim_nb_households_midrich</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sim_nb_households_rich</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/flood_outputs.html#create_flood_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.flood_outputs.create_flood_dict" title="Permalink to this definition"></a></dt>
<dd><p>Create dictionary for household distribution in each flood maps.</p>
</dd></dl>

</div>
<div class="section" id="module-outputs.export_outputs_floods">
<span id="display-values-related-to-floods"></span><h3>Display values related to floods<a class="headerlink" href="#module-outputs.export_outputs_floods" title="Permalink to this heading"></a></h3>
<p>Created on Fri Nov  6 17:38:21 2020.</p>
<p>&#64;author: Charlotte Liotta</p>
<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs_floods.plot_damages">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs_floods.</span></span><span class="sig-name descname"><span class="pre">plot_damages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">damages1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">damages2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flood_categ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs_floods.html#plot_damages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs_floods.plot_damages" title="Permalink to this definition"></a></dt>
<dd><p>Plot aggregate annualized damages per housing type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs_floods.plot_flood_severity_distrib">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs_floods.</span></span><span class="sig-name descname"><span class="pre">plot_flood_severity_distrib</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">barWidth</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transparency</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dictio</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flood_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylim</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs_floods.html#plot_flood_severity_distrib"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs_floods.plot_flood_severity_distrib" title="Permalink to this definition"></a></dt>
<dd><p>Plot distribution of flood severity across income groups for some RP.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs_floods.round_nearest">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs_floods.</span></span><span class="sig-name descname"><span class="pre">round_nearest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs_floods.html#round_nearest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs_floods.round_nearest" title="Permalink to this definition"></a></dt>
<dd><p>Round to nearest decimal number.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs_floods.simul_damages">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs_floods.</span></span><span class="sig-name descname"><span class="pre">simul_damages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">damages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flood_categ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs_floods.html#simul_damages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs_floods.simul_damages" title="Permalink to this definition"></a></dt>
<dd><p>Plot aggregate annualized damages per housing type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs_floods.simul_damages_time">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs_floods.</span></span><span class="sig-name descname"><span class="pre">simul_damages_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_damages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_tables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flood_categ</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs_floods.html#simul_damages_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs_floods.simul_damages_time" title="Permalink to this definition"></a></dt>
<dd><p>Plot aggregate annualized damages per housing type.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs_floods.validation_flood">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs_floods.</span></span><span class="sig-name descname"><span class="pre">validation_flood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stats1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_flood</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs_floods.html#validation_flood"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs_floods.validation_flood" title="Permalink to this definition"></a></dt>
<dd><p>Bar plot flood depth and area across some RPs per housing types.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="outputs.export_outputs_floods.validation_flood_coastal">
<span class="sig-prename descclassname"><span class="pre">outputs.export_outputs_floods.</span></span><span class="sig-name descname"><span class="pre">validation_flood_coastal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stats1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">type_flood</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_plots</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/outputs/export_outputs_floods.html#validation_flood_coastal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#outputs.export_outputs_floods.validation_flood_coastal" title="Permalink to this definition"></a></dt>
<dd><p>Bar plot flood depth and area across some RPs per housing types.</p>
</dd></dl>

</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="bibliography.html" class="btn btn-neutral float-left" title="Bibliography" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="install_help.html" class="btn btn-neutral float-right" title="Installation help" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Thomas Monnier.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>